var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function _(){return d(" ")}function h(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function p(t,e){t.value=null==e?"":e}function g(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function v(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function y(t,e,n){t.classList[n?"add":"remove"](e)}let b;function k(t){b=t}const S=[],N=[],R=[],$=[],x=Promise.resolve();let q=!1;function z(t){R.push(t)}const C=new Set;let B=0;function M(){if(0!==B)return;const t=b;do{try{for(;B<S.length;){const t=S[B];B++,k(t),w(t.$$)}}catch(t){throw S.length=0,B=0,t}for(k(null),S.length=0,B=0;N.length;)N.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];C.has(e)||(C.add(e),e())}R.length=0}while(S.length);for(;$.length;)$.pop()();q=!1,C.clear(),k(t)}function w(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const D=new Set;function O(t,e){t&&t.i&&(D.delete(t),t.i(e))}function P(t,e){t.d(1),e.delete(t.key)}function W(t,e,n,r,s,l,o,i,u,c,a,d){let _=t.length,h=l.length,m=_;const f={};for(;m--;)f[t[m].key]=m;const p=[],g=new Map,v=new Map;for(m=h;m--;){const t=d(s,l,m),i=n(t);let u=o.get(i);u?r&&u.p(t,e):(u=c(i,t),u.c()),g.set(i,p[m]=u),i in f&&v.set(i,Math.abs(m-f[i]))}const y=new Set,b=new Set;function k(t){O(t,1),t.m(i,a),o.set(t.key,t),a=t.first,h--}for(;_&&h;){const e=p[h-1],n=t[_-1],r=e.key,s=n.key;e===n?(a=e.first,_--,h--):g.has(s)?!o.has(r)||y.has(r)?k(e):b.has(s)?_--:v.get(r)>v.get(s)?(b.add(r),k(e)):(y.add(s),_--):(u(n,o),_--)}for(;_--;){const e=t[_];g.has(e.key)||u(e,o)}for(;h;)k(p[h-1]);return p}function A(t,e){-1===t.$$.dirty[0]&&(S.push(t),q||(q=!0,x.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(l,o,i,c,a,d,_,h=[-1]){const m=b;k(l);const f=l.$$={fragment:null,ctx:[],props:d,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(m?m.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:o.target||m.$$.root};_&&_(f.root);let p=!1;if(f.ctx=i?i(l,o.props||{},((t,e,...n)=>{const r=n.length?n[0]:e;return f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&A(l,t)),e})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!c&&c(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(u)}else f.fragment&&f.fragment.c();o.intro&&O(l.$$.fragment),function(t,n,l,o){const{fragment:i,after_update:u}=t.$$;i&&i.m(n,l),o||z((()=>{const n=t.$$.on_mount.map(e).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(z)}(l,o.target,o.anchor,o.customElement),M()}k(m)}class T{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class L{constructor(t,e){this._currentScore=0,this._madeBids=0,this._isDealer=!1,this._playerRoundScores=[],this._name="unknown player",this._name=t,this._isDealer=e;for(let t=0;t<=18;t++)this._playerRoundScores.push(new j)}get name(){return this._name}set name(t){this._name=t}getCurrentScore(){return this._currentScore}getMadeBids(){return this._madeBids}}class j{constructor(){this._tricksNominated=0,this._tricksWon=0,this._score=0,this._madeBid=!1}}class G{constructor(){this._rounds=[],this._currentRound=1,this._numberOfPlayers=2,this._players=[];for(let t=0;t<18;t++)this._rounds.push(new H(t+1))}setNumberOfPlayers(t){this._numberOfPlayers=t,this._players=[],this._players.push(new L("1",!0));for(let e=2;e<=t;e++)this._players.push(new L(e.toLocaleString(),!1))}moveDealerOn(){for(let t=0;t<=this._numberOfPlayers;t++)if(this._players[t]._isDealer){console.log("current dealer = "+this._players[t]._name),this._players[t]._isDealer=!1,t===this._numberOfPlayers-1?(this._players[0]._isDealer=!0,console.log("new dealer = "+this._players[0]._name)):(this._players[t+1]._isDealer=!0,console.log("new dealer = "+this._players[t+1]._name));break}}renderNominated(t){let e=t.insertRow().insertCell();e.colSpan=this._numberOfPlayers,e.textContent=this.renderGameResults();for(let e=0;e<this._rounds.length;e++){let n=t.insertRow();for(let t=0;t<this._numberOfPlayers;t++){n.insertCell().textContent="x"+t+e+"y"}}}renderGameResults(){return"round:"+this._currentRound+" total players = "+this._players.length}}class H{constructor(t){this._roundNumber=0,this._trumpSuit="no",this._trumpSuits=["clubs ♣","diamonds ♦","hearts ♥","spades ♠"],this._isRedSuit=!1,this._redSuits=[!1,!0,!0,!1],this._tricks=0,this._isMiss=!1,this._isBlind=!1,this._roundNumber=t,this._roundNumber<=7?(this._tricks=t,this._trumpSuit=this._trumpSuits[t<5?t-1:t-5],this._isRedSuit=this._redSuits[t<5?t-1:t-5]):this._roundNumber>7&&this._roundNumber<12?(8!=this._roundNumber&&10!=this._roundNumber||(this._trumpSuit=this._trumpSuits[t<9?t-5:t-10],this._isRedSuit=this._redSuits[t<9?t-5:t-10]),this._roundNumber>9&&(this._isBlind=!0),this._isMiss=!0,this._tricks=0):(this._tricks=19-this._roundNumber,this._isBlind=!1,this._trumpSuit=this._trumpSuits[t<15?t-11:t-15],this._isRedSuit=this._redSuits[t<15?t-11:t-15])}get roundNumber(){return this._roundNumber}get isBlind(){return this._isBlind}get isMiss(){return this._isMiss}get tricks(){return this._tricks}}function F(t,e,n){const r=t.slice();return r[20]=e[n],r}function I(t,e,n){const r=t.slice();return r[20]=e[n],r}function J(t,e,n){const r=t.slice();return r[25]=e[n],r[26]=e,r[27]=n,r}function K(t,e,n){const r=t.slice();return r[20]=e[n],r[28]=e,r[29]=n,r}function Q(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function U(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function V(t,e,n){const r=t.slice();return r[20]=e[n],r}function X(t,e,n){const r=t.slice();return r[20]=e[n],r[36]=e,r[32]=n,r}function Y(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function Z(t){let e,n,s,l,c,d,m=[],f=new Map,p=Array(6);const v=t=>t[32];for(let e=0;e<p.length;e+=1){let n=Y(t,p,e),r=v(n);f.set(r,m[e]=tt(r,n))}return{c(){e=a("h2"),e.textContent="How many players?",n=_(),s=a("select"),l=a("option"),l.textContent="Pick one!";for(let t=0;t<m.length;t+=1)m[t].c();l.__value="",l.value=l.__value,void 0===t[2]&&z((()=>t[11].call(s)))},m(r,u){i(r,e,u),i(r,n,u),i(r,s,u),o(s,l);for(let t=0;t<m.length;t+=1)m[t].m(s,null);g(s,t[2]),c||(d=[h(s,"change",t[11]),h(s,"change",t[12])],c=!0)},p(t,e){0&e&&(p=Array(6),m=W(m,e,v,1,t,p,f,s,P,tt,null,Y)),4&e[0]&&g(s,t[2])},d(t){t&&u(e),t&&u(n),t&&u(s);for(let t=0;t<m.length;t+=1)m[t].d();c=!1,r(d)}}}function tt(t,e){let n,r,s=e[32]+2+"";return{key:t,first:null,c(){n=a("option"),r=d(s),n.__value=e[32]+2,n.value=n.__value,this.first=n},m(t,e){i(t,n,e),o(n,r)},p(t,n){e=t},d(t){t&&u(n)}}}function et(t){let e,n,r,s,l,o,c=[],d=new Map,f=t[1]._players;const p=t=>t[32];for(let e=0;e<f.length;e+=1){let n=X(t,f,e),r=p(n);d.set(r,c[e]=nt(r,n))}return{c(){e=a("h2"),e.textContent="Names them players!",n=_();for(let t=0;t<c.length;t+=1)c[t].c();r=_(),s=a("button"),s.textContent="Done Naming >>",m(s,"class","svelte-1sqv3z7")},m(u,a){i(u,e,a),i(u,n,a);for(let t=0;t<c.length;t+=1)c[t].m(u,a);i(u,r,a),i(u,s,a),l||(o=h(s,"click",t[15]),l=!0)},p(t,e){66&e[0]&&(f=t[1]._players,c=W(c,e,p,1,t,f,d,r.parentNode,P,nt,r,X))},d(t){t&&u(e),t&&u(n);for(let e=0;e<c.length;e+=1)c[e].d(t);t&&u(r),t&&u(s),l=!1,o()}}}function nt(t,e){let n,s,l,o,c,g,v,y=e[32]+1+"";function b(){e[13].call(o,e[36],e[32])}function k(){return e[14](e[32],e[20])}return{key:t,first:null,c(){n=d("Player "),s=d(y),l=_(),o=a("input"),c=a("br"),m(o,"type","text"),this.first=n},m(t,r){i(t,n,r),i(t,s,r),i(t,l,r),i(t,o,r),p(o,e[20].name),i(t,c,r),g||(v=[h(o,"input",b),h(o,"change",k)],g=!0)},p(t,n){e=t,2&n[0]&&y!==(y=e[32]+1+"")&&f(s,y),2&n[0]&&o.value!==e[20].name&&p(o,e[20].name)},d(t){t&&u(n),t&&u(s),t&&u(l),t&&u(o),t&&u(c),g=!1,r(v)}}}function rt(t){let e,n,r,s,l,d,h,f,p,g,v,y,b,k,S,N,R,$,x,q,z,C,B,M,w,D,O=t[1]._players,P=[];for(let e=0;e<O.length;e+=1)P[e]=st(V(t,O,e));let W=t[1]._rounds,A=[];for(let e=0;e<W.length;e+=1)A[e]=gt(J(t,W,e));let E=t[1]._players,T=[];for(let e=0;e<E.length;e+=1)T[e]=vt(I(t,E,e));return{c(){e=a("h2"),e.textContent="Scoring!",n=_(),r=a("table"),s=a("thead"),l=a("tr"),d=a("th"),d.textContent="round",h=_(),f=a("th"),f.textContent=" ",p=_(),g=a("th"),g.textContent=" ",v=_(),y=a("th"),y.textContent="trumps",b=_(),k=a("th"),k.textContent="tricks",S=_();for(let t=0;t<P.length;t+=1)P[t].c();N=_(),R=a("th"),R.textContent="Actions ...",$=_(),x=a("tbody");for(let t=0;t<A.length;t+=1)A[t].c();q=_(),z=a("tfoot"),C=a("tr"),B=a("td"),B.textContent="Score",M=_();for(let t=0;t<T.length;t+=1)T[t].c();w=_(),D=a("td"),D.textContent=" ",m(B,"colspan","5"),m(B,"class","totes svelte-1sqv3z7"),m(D,"class","svelte-1sqv3z7"),m(r,"class","svelte-1sqv3z7")},m(t,u){i(t,e,u),i(t,n,u),i(t,r,u),o(r,s),o(s,l),o(l,d),o(l,h),o(l,f),o(l,p),o(l,g),o(l,v),o(l,y),o(l,b),o(l,k),o(l,S);for(let t=0;t<P.length;t+=1)P[t].m(l,null);o(l,N),o(l,R),o(r,$),o(r,x);for(let t=0;t<A.length;t+=1)A[t].m(x,null);o(r,q),o(r,z),o(z,C),o(C,B),o(C,M);for(let t=0;t<T.length;t+=1)T[t].m(C,null);o(C,w),o(C,D)},p(t,e){if(2&e[0]){let n;for(O=t[1]._players,n=0;n<O.length;n+=1){const r=V(t,O,n);P[n]?P[n].p(r,e):(P[n]=st(r),P[n].c(),P[n].m(l,N))}for(;n<P.length;n+=1)P[n].d(1);P.length=O.length}if(1810&e[0]){let n;for(W=t[1]._rounds,n=0;n<W.length;n+=1){const r=J(t,W,n);A[n]?A[n].p(r,e):(A[n]=gt(r),A[n].c(),A[n].m(x,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=W.length}if(2&e[0]){let n;for(E=t[1]._players,n=0;n<E.length;n+=1){const r=I(t,E,n);T[n]?T[n].p(r,e):(T[n]=vt(r),T[n].c(),T[n].m(C,w))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}},d(t){t&&u(e),t&&u(n),t&&u(r),c(P,t),c(A,t),c(T,t)}}}function st(t){let e,n,r=t[20].name+"";return{c(){e=a("td"),n=d(r),m(e,"colspan","3"),m(e,"class","svelte-1sqv3z7")},m(t,r){i(t,e,r),o(e,n)},p(t,e){2&e[0]&&r!==(r=t[20].name+"")&&f(n,r)},d(t){t&&u(e)}}}function lt(e){let n,r,s,l,o;return{c(){n=a("td"),n.textContent="bid",r=_(),s=a("td"),s.textContent="got",l=_(),o=a("td"),o.textContent="score",m(n,"class","results svelte-1sqv3z7"),m(s,"class","results svelte-1sqv3z7"),m(o,"class","results svelte-1sqv3z7")},m(t,e){i(t,n,e),i(t,r,e),i(t,s,e),i(t,l,e),i(t,o,e)},p:t,d(t){t&&u(n),t&&u(r),t&&u(s),t&&u(l),t&&u(o)}}}function ot(t){let e,n;function r(t,e){return 0===t[4]?ct:1===t[4]?ut:void 0}let s=r(t),l=s&&s(t);return{c(){l&&l.c(),e=_(),n=a("td"),n.textContent="score",m(n,"class","results svelte-1sqv3z7")},m(t,r){l&&l.m(t,r),i(t,e,r),i(t,n,r)},p(t,n){s===(s=r(t))&&l?l.p(t,n):(l&&l.d(1),l=s&&s(t),l&&(l.c(),l.m(e.parentNode,e)))},d(t){l&&l.d(t),t&&u(e),t&&u(n)}}}function it(t){let e,n,r,s,l,c,h,p,g=t[20]._playerRoundScores[t[25].roundNumber]._tricksNominated+"",v=t[20]._playerRoundScores[t[25].roundNumber]._tricksWon+"",b=t[20]._playerRoundScores[t[25].roundNumber]._score+"";return{c(){e=a("td"),n=d(g),r=_(),s=a("td"),l=d(v),c=_(),h=a("td"),p=d(b),m(e,"class","edge entered svelte-1sqv3z7"),m(e,"title","bid"),m(s,"class","edge entered svelte-1sqv3z7"),m(s,"title","got"),m(h,"class","edge entered svelte-1sqv3z7"),m(h,"title","score"),y(h,"madeBid",t[20]._playerRoundScores[t[25].roundNumber]._madeBid)},m(t,u){i(t,e,u),o(e,n),i(t,r,u),i(t,s,u),o(s,l),i(t,c,u),i(t,h,u),o(h,p)},p(t,e){2&e[0]&&g!==(g=t[20]._playerRoundScores[t[25].roundNumber]._tricksNominated+"")&&f(n,g),2&e[0]&&v!==(v=t[20]._playerRoundScores[t[25].roundNumber]._tricksWon+"")&&f(l,v),2&e[0]&&b!==(b=t[20]._playerRoundScores[t[25].roundNumber]._score+"")&&f(p,b),2&e[0]&&y(h,"madeBid",t[20]._playerRoundScores[t[25].roundNumber]._madeBid)},d(t){t&&u(e),t&&u(r),t&&u(s),t&&u(c),t&&u(h)}}}function ut(t){let e,n,r,s,l,c,p,v=t[20]._playerRoundScores[t[25].roundNumber]._tricksNominated+"",b=[],k=new Map,S=Array(t[25].isMiss?8:t[25].tricks+1);const N=t=>t[32];for(let e=0;e<S.length;e+=1){let n=Q(t,S,e),r=N(n);k.set(r,b[e]=at(r,n))}function R(){t[17].call(l,t[25],t[28],t[29])}return{c(){e=a("td"),n=d(v),r=_(),s=a("td"),l=a("select");for(let t=0;t<b.length;t+=1)b[t].c();m(e,"class","edge entered svelte-1sqv3z7"),m(e,"title","bid"),y(e,"dealer",t[20]._isDealer),m(l,"title","got"),m(l,"class","svelte-1sqv3z7"),void 0===t[20]._playerRoundScores[t[25].roundNumber]._tricksWon&&z(R),m(s,"class","edge results svelte-1sqv3z7"),m(s,"title","got"),y(s,"dealer",t[20]._isDealer)},m(u,a){i(u,e,a),o(e,n),i(u,r,a),i(u,s,a),o(s,l);for(let t=0;t<b.length;t+=1)b[t].m(l,null);g(l,t[20]._playerRoundScores[t[25].roundNumber]._tricksWon),c||(p=h(l,"change",R),c=!0)},p(r,o){t=r,2&o[0]&&v!==(v=t[20]._playerRoundScores[t[25].roundNumber]._tricksNominated+"")&&f(n,v),2&o[0]&&y(e,"dealer",t[20]._isDealer),2&o[0]&&(S=Array(t[25].isMiss?8:t[25].tricks+1),b=W(b,o,N,1,t,S,k,l,P,at,null,Q)),2&o[0]&&g(l,t[20]._playerRoundScores[t[25].roundNumber]._tricksWon),2&o[0]&&y(s,"dealer",t[20]._isDealer)},d(t){t&&u(e),t&&u(r),t&&u(s);for(let t=0;t<b.length;t+=1)b[t].d();c=!1,p()}}}function ct(t){let e,n,r,s,l,c,d=[],f=new Map,p=Array(t[25].tricks+1);const v=t=>t[32];for(let e=0;e<p.length;e+=1){let n=U(t,p,e),r=v(n);f.set(r,d[e]=dt(r,n))}function b(){t[16].call(n,t[25],t[28],t[29])}return{c(){e=a("td"),n=a("select");for(let t=0;t<d.length;t+=1)d[t].c();r=_(),s=a("td"),s.textContent="got",m(n,"title","bid"),m(n,"class","svelte-1sqv3z7"),void 0===t[20]._playerRoundScores[t[25].roundNumber]._tricksNominated&&z(b),m(e,"class","edge results svelte-1sqv3z7"),m(e,"title","bid"),y(e,"dealer",t[20]._isDealer),m(s,"class","results svelte-1sqv3z7"),y(s,"dealer",t[20]._isDealer)},m(u,a){i(u,e,a),o(e,n);for(let t=0;t<d.length;t+=1)d[t].m(n,null);g(n,t[20]._playerRoundScores[t[25].roundNumber]._tricksNominated),i(u,r,a),i(u,s,a),l||(c=h(n,"change",b),l=!0)},p(r,l){t=r,2&l[0]&&(p=Array(t[25].tricks+1),d=W(d,l,v,1,t,p,f,n,P,dt,null,U)),2&l[0]&&g(n,t[20]._playerRoundScores[t[25].roundNumber]._tricksNominated),2&l[0]&&y(e,"dealer",t[20]._isDealer),2&l[0]&&y(s,"dealer",t[20]._isDealer)},d(t){t&&u(e);for(let t=0;t<d.length;t+=1)d[t].d();t&&u(r),t&&u(s),l=!1,c()}}}function at(t,e){let n,r,s,l=e[32]+"";return{key:t,first:null,c(){n=a("option"),r=d(l),n.__value=s=e[32],n.value=n.__value,this.first=n},m(t,e){i(t,n,e),o(n,r)},p(t,o){e=t,2&o[0]&&l!==(l=e[32]+"")&&f(r,l),2&o[0]&&s!==(s=e[32])&&(n.__value=s,n.value=n.__value)},d(t){t&&u(n)}}}function dt(t,e){let n,r,s,l=e[32]+"";return{key:t,first:null,c(){n=a("option"),r=d(l),n.__value=s=e[32],n.value=n.__value,this.first=n},m(t,e){i(t,n,e),o(n,r)},p(t,o){e=t,2&o[0]&&l!==(l=e[32]+"")&&f(r,l),2&o[0]&&s!==(s=e[32])&&(n.__value=s,n.value=n.__value)},d(t){t&&u(n)}}}function _t(t){let e,n;function r(t,n){return 2&n[0]&&(e=null),t[25].roundNumber<t[1]._currentRound?it:(null==e&&(e=!!t[8](t[25].roundNumber)),e?ot:lt)}let s=r(t,[-1,-1]),l=s(t);return{c(){l.c(),n=d("")},m(t,e){l.m(t,e),i(t,n,e)},p(t,e){s===(s=r(t,e))&&l?l.p(t,e):(l.d(1),l=s(t),l&&(l.c(),l.m(n.parentNode,n)))},d(t){l.d(t),t&&u(n)}}}function ht(e){let n;return{c(){n=a("td"),n.textContent=" ",m(n,"class","svelte-1sqv3z7")},m(t,e){i(t,n,e)},p:t,d(t){t&&u(n)}}}function mt(t){let e;function n(t,e){return 0===t[4]?pt:1===t[4]?ft:void 0}let r=n(t),s=r&&r(t);return{c(){e=a("td"),s&&s.c(),m(e,"class","actions svelte-1sqv3z7")},m(t,n){i(t,e,n),s&&s.m(e,null)},p(t,l){r===(r=n(t))&&s?s.p(t,l):(s&&s.d(1),s=r&&r(t),s&&(s.c(),s.m(e,null)))},d(t){t&&u(e),s&&s.d()}}}function ft(e){let n,r,s;return{c(){n=a("button"),n.textContent="Tricking Done >>",m(n,"class","svelte-1sqv3z7")},m(t,l){i(t,n,l),r||(s=h(n,"click",e[19]),r=!0)},p:t,d(t){t&&u(n),r=!1,s()}}}function pt(e){let n,r,s;return{c(){n=a("button"),n.textContent="Bidding Done >>",m(n,"class","svelte-1sqv3z7")},m(t,l){i(t,n,l),r||(s=h(n,"click",e[18]),r=!0)},p:t,d(t){t&&u(n),r=!1,s()}}}function gt(t){let e,n,r,s,l,h,p,g,v,b,k,S,N,R,$,x,q,z,C,B=t[25].roundNumber+"",M=t[25].isBlind?"blind":"",w=t[25].isMiss?"miss":"",D=("no"===t[25]._trumpSuit?"":t[25]._trumpSuit)+"",O=t[25].tricks+"",P=t[1]._players,W=[];for(let e=0;e<P.length;e+=1)W[e]=_t(K(t,P,e));function A(t,e){return 2&e[0]&&(z=null),null==z&&(z=!!t[8](t[25].roundNumber)),z?mt:ht}let E=A(t,[-1,-1]),T=E(t);return{c(){e=a("tr"),n=a("td"),r=d(B),s=_(),l=a("td"),h=d(M),p=_(),g=a("td"),v=d(w),b=_(),k=a("td"),S=d(D),N=_(),R=a("td"),$=d(O),x=_();for(let t=0;t<W.length;t+=1)W[t].c();q=_(),T.c(),C=_(),m(n,"class","svelte-1sqv3z7"),m(l,"class","svelte-1sqv3z7"),m(g,"class","svelte-1sqv3z7"),m(k,"class","totes svelte-1sqv3z7"),y(k,"redSuit",t[25]._isRedSuit),m(R,"class","svelte-1sqv3z7"),m(e,"class","svelte-1sqv3z7"),y(e,"isCurrent",t[8](t[25].roundNumber)),y(e,"isMiss",t[25].isMiss),y(e,"isBlind",t[25].isBlind)},m(t,u){i(t,e,u),o(e,n),o(n,r),o(e,s),o(e,l),o(l,h),o(e,p),o(e,g),o(g,v),o(e,b),o(e,k),o(k,S),o(e,N),o(e,R),o(R,$),o(e,x);for(let t=0;t<W.length;t+=1)W[t].m(e,null);o(e,q),T.m(e,null),o(e,C)},p(t,n){if(2&n[0]&&B!==(B=t[25].roundNumber+"")&&f(r,B),2&n[0]&&M!==(M=t[25].isBlind?"blind":"")&&f(h,M),2&n[0]&&w!==(w=t[25].isMiss?"miss":"")&&f(v,w),2&n[0]&&D!==(D=("no"===t[25]._trumpSuit?"":t[25]._trumpSuit)+"")&&f(S,D),2&n[0]&&y(k,"redSuit",t[25]._isRedSuit),2&n[0]&&O!==(O=t[25].tricks+"")&&f($,O),274&n[0]){let r;for(P=t[1]._players,r=0;r<P.length;r+=1){const s=K(t,P,r);W[r]?W[r].p(s,n):(W[r]=_t(s),W[r].c(),W[r].m(e,q))}for(;r<W.length;r+=1)W[r].d(1);W.length=P.length}E===(E=A(t,n))&&T?T.p(t,n):(T.d(1),T=E(t),T&&(T.c(),T.m(e,C))),258&n[0]&&y(e,"isCurrent",t[8](t[25].roundNumber)),2&n[0]&&y(e,"isMiss",t[25].isMiss),2&n[0]&&y(e,"isBlind",t[25].isBlind)},d(t){t&&u(e),c(W,t),T.d()}}}function vt(t){let e,n,r,s,l,c=t[20].getMadeBids()+"",h=t[20].getCurrentScore()+"";return{c(){e=a("td"),n=d(c),r=_(),s=a("td"),l=d(h),m(e,"colspan","2"),m(e,"class","results totes svelte-1sqv3z7"),m(e,"title","bids made"),m(s,"class","totes svelte-1sqv3z7"),m(s,"title","score")},m(t,u){i(t,e,u),o(e,n),i(t,r,u),i(t,s,u),o(s,l)},p(t,e){2&e[0]&&c!==(c=t[20].getMadeBids()+"")&&f(n,c),2&e[0]&&h!==(h=t[20].getCurrentScore()+"")&&f(l,h)},d(t){t&&u(e),t&&u(r),t&&u(s)}}}function yt(t){let e,n,r,s,l,d,h=t[1]._players,f=[];for(let e=0;e<h.length;e+=1)f[e]=bt(F(t,h,e));return{c(){e=a("h2"),e.textContent="Results!",n=_(),r=a("table"),s=a("thead"),s.innerHTML="<tr><th>Name</th> \n                <th>Made</th> \n                <th>Final Score</th></tr>",l=_(),d=a("tbody");for(let t=0;t<f.length;t+=1)f[t].c();m(r,"class","svelte-1sqv3z7")},m(t,u){i(t,e,u),i(t,n,u),i(t,r,u),o(r,s),o(r,l),o(r,d);for(let t=0;t<f.length;t+=1)f[t].m(d,null)},p(t,e){if(2&e[0]){let n;for(h=t[1]._players,n=0;n<h.length;n+=1){const r=F(t,h,n);f[n]?f[n].p(r,e):(f[n]=bt(r),f[n].c(),f[n].m(d,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}},d(t){t&&u(e),t&&u(n),t&&u(r),c(f,t)}}}function bt(t){let e,n,r,s,l,c,h,p,g,v,y=t[20].name+"",b=t[20].getMadeBids()+"",k=t[20].getCurrentScore()+"";return{c(){e=a("tr"),n=a("td"),r=d(y),s=_(),l=a("td"),c=d(b),h=_(),p=a("td"),g=d(k),v=_(),m(n,"class","svelte-1sqv3z7"),m(l,"class","totes results svelte-1sqv3z7"),m(l,"title","made bids (out of 18 possible)"),m(p,"class","totes svelte-1sqv3z7"),m(p,"title","final score")},m(t,u){i(t,e,u),o(e,n),o(n,r),o(e,s),o(e,l),o(l,c),o(e,h),o(e,p),o(p,g),o(e,v)},p(t,e){2&e[0]&&y!==(y=t[20].name+"")&&f(r,y),2&e[0]&&b!==(b=t[20].getMadeBids()+"")&&f(c,b),2&e[0]&&k!==(k=t[20].getCurrentScore()+"")&&f(g,k)},d(t){t&&u(e)}}}function kt(e){let n,r,s,l,c,h,p,g,v,y=0===e[3]&&Z(e),b=1===e[3]&&et(e),k=2===e[3]&&rt(e),S=3===e[3]&&yt(e);return{c(){n=a("main"),r=a("h1"),s=d("Welcome to "),l=d(e[0]),c=d("!"),h=_(),y&&y.c(),p=_(),b&&b.c(),g=_(),k&&k.c(),v=_(),S&&S.c(),m(r,"class","svelte-1sqv3z7"),m(n,"class","svelte-1sqv3z7")},m(t,e){i(t,n,e),o(n,r),o(r,s),o(r,l),o(r,c),o(n,h),y&&y.m(n,null),o(n,p),b&&b.m(n,null),o(n,g),k&&k.m(n,null),o(n,v),S&&S.m(n,null)},p(t,e){1&e[0]&&f(l,t[0]),0===t[3]?y?y.p(t,e):(y=Z(t),y.c(),y.m(n,p)):y&&(y.d(1),y=null),1===t[3]?b?b.p(t,e):(b=et(t),b.c(),b.m(n,g)):b&&(b.d(1),b=null),2===t[3]?k?k.p(t,e):(k=rt(t),k.c(),k.m(n,v)):k&&(k.d(1),k=null),3===t[3]?S?S.p(t,e):(S=yt(t),S.c(),S.m(n,null)):S&&(S.d(1),S=null)},i:t,o:t,d(t){t&&u(n),y&&y.d(),b&&b.d(),k&&k.d(),S&&S.d()}}}function St(t,e,n){let r,{name:s}=e,l=new G,o=0,i=0,u=t=>{console.log("set number of players ="+t),l.setNumberOfPlayers(t),n(3,o++,o)},c=(t,e)=>{n(1,l._players[t].name=e,l)},a=()=>{console.log("naming done"),n(3,o++,o)},d=()=>{console.log("bidding done");let t=0,e="";for(let n=0;n<l._numberOfPlayers;n++)t+=l._players[n]._playerRoundScores[l._currentRound]._tricksNominated,l._players[n]._isDealer&&(e=l._players[n]._name);console.log("totalBids="+t+" tricks="+l._rounds[l._currentRound-1].tricks),t===l._rounds[l._currentRound-1].tricks?alert("The total bids can't equal the number of tricks - the Dealer ["+e+"] needs to change their bid?"):n(4,i++,i)},_=()=>{console.log("tricking done");let t=0,e=7;for(let e=0;e<l._numberOfPlayers;e++)t+=l._players[e]._playerRoundScores[l._currentRound]._tricksWon;if(l._rounds[l._currentRound-1].isMiss||(e=l._rounds[l._currentRound-1].tricks),console.log("totalTricksWon="+t+" tricks="+e),t!==e)alert("The total tricks won ["+t+"] must equal the number of tricks available ["+e+"]- please update?");else{for(let t=0;t<l._numberOfPlayers;t++){let e=l._players[t]._playerRoundScores[l._currentRound];l._rounds[l._currentRound-1].isMiss?(e._score=-3*e._tricksWon,e._madeBid=0===e._tricksWon):e._tricksWon===e._tricksNominated?(e._madeBid=!0,e._score=10+e._tricksNominated):e._score=e._tricksWon,n(1,l._players[t]._currentScore+=e._score,l),e._madeBid&&n(1,l._players[t]._madeBids+=1,l)}n(1,l._currentRound++,l),console.log("the next round is "+l._currentRound),l._currentRound>18?n(3,o++,o):(l.moveDealerOn(),n(4,i=0),l._rounds[l._currentRound-1].isMiss&&n(4,i++,i))}};return t.$$set=t=>{"name"in t&&n(0,s=t.name)},[s,l,r,o,i,u,c,a,t=>l._currentRound==t,d,_,function(){r=v(this),n(2,r)},()=>u(r),function(t,e){t[e].name=this.value,n(1,l)},(t,e)=>c(t,e.name),()=>a(),function(t,e,r){e[r]._playerRoundScores[t.roundNumber]._tricksNominated=v(this),n(1,l)},function(t,e,r){e[r]._playerRoundScores[t.roundNumber]._tricksWon=v(this),n(1,l)},()=>d(),()=>_()]}return new class extends T{constructor(t){super(),E(this,t,St,kt,l,{name:0},null,[-1,-1])}}({target:document.body,props:{name:"Nominate"}})}();
//# sourceMappingURL=bundle.js.map
